
  <!---Enhance search input and display data--->
  <div  *ngIf="e.title===searchValue || searchValue==null">
    <div class="card h-100 shadow-sm" ngHover>
      <img src="{{e.imageUrl}}"
           class="card-img-top img-fluid"
           style="height: 200px; object-fit: cover;">

      <div class="card-body">
        <h5 class="card-title"
            [ngStyle]="{'color':e.nbPlaces==0?'red':'green'}">
          {{ e.title }}
        </h5>
        <p class="text-muted">{{e.price|euro}}</p>
        <p>{{e.location|uppercase}}</p>
        <p class="fw-bold">{{e.nbPlaces}}</p>
        <p>{{ e.description }}</p>
        <!-- Bouton Like -->
        <button [ngClass]="{'btn':true,'btn-sm':true,
                          'btn-danger':e.nbrLike>=5,
                          'btn-warning':e.nbrLike<5}"
                (click)="likeEvent(e)">
          ğŸ‘ Like {{e.nbrLike}}
        </button>

        <button class="btn btn-sm btn-danger"
                [disabled]="e.nbPlaces==0" (click)="nbrPlaceDecr(e)" ><!--Property Binding--->
          buy ticket
        </button>
        <!--exercice: pipe date--->
        <span class="ms-2">{{ e.date }}</span>
        <a [routerLink]="['./details',e.id]">
          more details
        </a>
      </div>
          <button class="btn btn-sm btn-outline-danger ms-2"
        (click)="deleteEvent(e.id)" *ngIf="isAdmin()">
  ğŸ—‘ Delete
</button>

<button class="btn btn-primary btn-sm" (click)="editEvent(e)" *ngIf="isAdmin()">
  âœï¸ Edit
</button>
<div  class="card h-100 shadow-sm">
  <button class="btn btn-primary btn-sm mt-2" 
          (click)="openCommentModal(e)">
    ğŸ’¬ Commenter
  </button>

  <!-- Modal pour cette card -->
  <div class="modal fade" [id]="'commentModal' + e.id" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Ajouter un Commentaire</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <label>Votre Note :</label>
          <div class="star-rating">
            <i class="fa fa-star" *ngFor="let s of stars; let i=index"
               [class.selected]="i < rating"
               (click)="setRating(i+1)"></i>
          </div>
          <textarea class="form-control" rows="3" [(ngModel)]="comment"></textarea>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
          <button class="btn btn-primary" (click)="submitComment(e)">Envoyer</button>
        </div>
      </div>
    </div>
  </div>
</div>

    </div>

  </div>
